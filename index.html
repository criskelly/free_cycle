<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgtUj9-u9zRi20k6Apg-Ii9TqbJmFa_2Q&sensor=false&marker=Portland,+Oregon">
    </script>
    <script type="text/javascript">
    // initialize function to open map centered on Portland w/ green arrow marker
       function initialize() {
        var myLatlng = new google.maps.LatLng(45.528, -122.676);
        var mapOptions = {
          zoom: 12,
          center: new google.maps.LatLng(45.528, -122.676),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        var image ='arrow.png';
        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title:"Freecycle Mapper!",
            icon: image
        });
      }
      // To add the marker to the map, call setMap();
      //Can't seem to keep green arrow marker with codeAddress marker
      // marker.setMap(map);
      var geocoder;
      function initAddress() {
        geocoder = new google.maps.Geocoder();
        var latlng = new google.maps.LatLng(45.528, -122.676);
        var mapOptions = {
          zoom: 8,
          center: latlng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }
        map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
      }
        // This function adds the address passed to the map as a marker
      function codeAddress(address) {
        // var address = document.getElementById("address").value;
        geocoder.geocode( { 'address': address}, function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            map.setCenter(results[0].geometry.location);
            var marker = new google.maps.Marker({
              map: map,
              position: results[0].geometry.location
            });
          } else {
            alert("Geocode was not successful for the following reason: " + status);
          }
        });
      }

    </script>
  </head>

  <!-- Need to change this to jquery so onload doesn't take forever -->
  <!-- Using Gresham as a placeholder for our future email addresses -->
  <!-- With jquery use a loop to pass in email addresses with limits -->
  <body onload='initialize();initAddress();codeAddress("Gresham");'>
    <div >

    </div>

    <div class="container">

  <header>
    <!-- banner -->
    <a href="#">
      <img src="http://static.t-f-n.org/images/freecycle_logo.jpg" alt="free cycle logo" width="150px" height="50px">
    </a>
    <h1>Free Cycle Mapper</h1>
  </header>

  <section>
    <div class="map">
      <h2>Items available in Portland, OR</h2>
      <div id="map_canvas" style="width:600px; height:600px"></div>
    </div>
  </section>



  <aside>
    <form>
      <fieldset>
        <legend>Filter your search</legend>
        <input type="text" placeholder="Location">
        <span class="help-block">Enter anything you would enter in a Google Maps search</span>
        <input type="text" placeholder="Keyword">
        <span class="help-block">Enter your heart's desire</span>
        <button type="submit" class="btn">Filter</button>
      </fieldset>
    </form>

    <div class="display-list">
      <h3>Today's Posts</h3>
      <p><a href="#">Cracker Jack Boxes</a></p>
      <p><a href="#">Magic Can Opener</a></p>
      <p><a href="#">Dead Fish</a></p>
      <p><a href="#">Socks</a></p>
      <p><a href="#">Bronzed Chicken</a></p>
      <p><a href="#">Green Ooze</a></p>
      <p><a href="#">Box of mud</a></p>
      <p><a href="#">Pilgrims</a></p>
      <p><a href="#">Evil Mirror</a></p>
      <p><a href="#">Surfer Movie</a></p>
      <p><a href="#">OFFER: iPad</a></p>
      <p><a href="#">OFFERING: Leaves</a></p>
      <p><a href="#">Empty Gas Can</a></p>
      <p><a href="#">Zombie Survival Kit</a></p>
      <p><a href="#">Wonder Bread</a></p>
    </div>
  </aside>

  <footer class="well well-large">
    <h4>Contact us at 4567 SassyAss Lane in Portland, OR</h4>
  </footer>

</div>

</body>
</html>